{{!< dashboard}}

<style>
  body {
    font-family: 'Poppins', sans-serif;
    background-color: #fff;
    color: #000;
  }

  .container {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
  }

  .form-container {
    background-color: #f8f9fa;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }

  .form-label {
    font-weight: 600;
    color: #2E5A92;
    margin-bottom: 8px;
  }

  .form-control {
    border: 2px solid #e9ecef;
    border-radius: 8px;
    padding: 12px;
    font-size: 16px;
    transition: border-color 0.3s ease;
  }

  .form-control:focus {
    border-color: #2E5A92;
    box-shadow: 0 0 0 0.2rem rgba(46, 90, 146, 0.25);
  }

  .btn-primary {
    background-color: #2E5A92;
    border: none;
    padding: 12px 30px;
    border-radius: 8px;
    font-weight: 600;
    transition: background-color 0.3s ease;
  }

  .btn-primary:hover {
    background-color: #1e4a7a;
  }

  .btn-secondary {
    background-color: #6c757d;
    border: none;
    padding: 12px 30px;
    border-radius: 8px;
    font-weight: 600;
    transition: background-color 0.3s ease;
  }

  .btn-secondary:hover {
    background-color: #5a6268;
  }

  .current-file {
    background-color: #e9ecef;
    padding: 10px;
    border-radius: 5px;
    margin-bottom: 15px;
  }

  .current-file a {
    color: #2E5A92;
    text-decoration: none;
  }

  .current-file a:hover {
    text-decoration: underline;
  }
</style>

<div class="container mt-4">
  <div class="form-container">
    <h3 class="mb-4 text-center" style="color: #2E5A92;">Edit Document</h3>
    
    <form
      action="/admin/document/update/{{document.DocumentTypeID}}"
      method="post"
      id="documentForm"
      enctype="multipart/form-data"
      class="needs-validation"
    >
      <div class="mb-3">
        <label for="documentName" class="form-label">Document Name</label>
        <input 
          type="text" 
          name="Name" 
          class="form-control" 
          id="documentName" 
          value="{{document.Name}}"
          required 
        />
        <div class="valid-feedback">Looks good!</div>
      </div>

      {{#if document.file}}
      <div class="mb-3">
        <label class="form-label">Current File</label>
        <div class="current-file">
          <a href="{{document.file}}" download>{{getFilename document.file}}</a>
        </div>
      </div>
      {{/if}}

      <div class="mb-3">
        <label for="documentFile" class="form-label">
          {{#if document.file}}Replace File (Optional){{else}}Upload File{{/if}}
        </label>
        <input 
          type="file" 
          name="file" 
          class="form-control" 
          id="documentFile"
          {{#unless document.file}}required{{/unless}}
        />
        <div class="form-text">
          {{#if document.file}}
            Leave empty to keep the current file
          {{else}}
            Please select a file to upload
          {{/if}}
        </div>
      </div>

      <div class="d-flex gap-2 justify-content-end">
        <a href="/admin/documents" class="btn btn-secondary">Cancel</a>
        <button class="btn btn-primary" id="updateButton" type="submit">
          Update Document
        </button>
      </div>
    </form>
  </div>
</div>

<script defer src="/js/admin/editDocument.js"></script>
